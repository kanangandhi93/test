<li
  class="flex flex-grow items-center justify-between gap-5"
  [class.bg-green-200]="ticket.completed">
  <button
    [routerLink]="['/detail', ticket.id]"
    [attr.data-testid]="'ticket-button-' + ticket.id"
    class="flex flex-col gap-2">
    <div>
      <span class="font-bold">Ticket:</span>
      {{ ticket.id }}
    </div>
    <div data-testid="ticket-description">
      <span class="font-bold">Description:</span>
      {{ ticket.description }}
    </div>
    <div data-testid="ticket-assignee">
      <span class="font-bold">Assignee:</span>
      {{ $any(ticket).assignee }}
    </div>
    <div data-testid="ticket-status">
      <span class="font-bold">Done:</span>
      {{ ticket.completed }}
    </div>
  </button>
  <div class="flex flex-col">
    <form
      [formGroup]="form"
      #ngForm="ngForm"
      (ngSubmit)="submit()"
      class="flex items-center justify-center gap-4">
      <mat-form-field appearance="fill">
        <mat-label>Assign to</mat-label>
        <mat-select formControlName="assignee">
          <mat-option *ngFor="let user of users" [value]="user.id">
            {{ user.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <button mat-flat-button color="primary" type="submit">Assign</button>
    </form>
    <button
      (click)="closeTicket.emit(ticket.id)"
      mat-flat-button
      color="primary"
      type="button">
      Done
    </button>
  </div>
</li>
